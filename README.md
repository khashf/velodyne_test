## Set up guide: 
* Prelimary set up (similar to Ouster) http://wiki.ros.org/velodyne/Tutorials/Getting%20Started%20with%20the%20Velodyne%20VLP16
* The manual file in `velodyne_ws` named `VLP16_User_Manual.pdf`
* Default Lidar IP: `192.168.1.201`
* Test connection to the lidar by putting lidar's IP address onto browser
* `sudo route add <lidar's IP> <your ethernet interface>`
* 

## Build driver
```
$ cd velodyne_ws
$ catkin_make
```

## Visualization and Recording
* You can viz data by either `rviz` or `VeloView`. To use rviz, by following instructions at http://wiki.ros.org/velodyne/Tutorials/Getting%20Started%20with%20the%20Velodyne%20VLP16 , but (to the best of my knowledge), we can only record data by VeloView. I found it's much easier to viz with `VeloView`
* To launch VeloView, get into `velodyne_ws/VeloView/VeloView-3.5.0-Linux-64bit/bin` directory and issue `./VeloView`
* More on VeloView is on page 114 of the manual `VLP16_User_Manual.pdf`
* VeloView records data into pcap files. It doesn't output bag files. See steps to converts them to bag files below.

## Convert pcap file (generated by VeloView) to bag file (which we can use with rviz)
https://stackoverflow.com/questions/45136563/how-to-convert-pcap-data-of-velodynes-vlp-16-to-point-cloud-without-using-velov

1st tab
```
$ roscore
```

2nd tab (run your .pcap file):
```
$ rosrun velodyne_driver velodyne_node _model:=VLP16 _pcap:=/path/to/pcap/file _read_once:=true
```
TODO: Should we set `_read_once:=true`?


3rd tab: (create .bag file to visualize in Rviz)
```
$ rosrun rosbag record -O </path/to/bag/file/we/want/to/be/created> /velodyne_packets
```

4th tab: Replay the bag file which publishes/plays recorded data to topic(s)
```
$ rosbag play <path/to/bag/file>
```

5th tab: (to convert `velodyne_msgs/VelodyneScan` to `/Pointcloud2` and `/LaserScan` topic to visualize in Rviz):
```
roslaunch velodyne_pointcloud VLP16_points.launch
```

6th tab:
```
rosrun rviz rviz -f velodyne
```

To viz topic:
`Displays -> Add -> By topic -> <topic name>`

Published topics
* /scan
* /velodyne_points

